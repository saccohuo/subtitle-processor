# Subtitle Processing Service å­—å¹•å¤„ç†æœåŠ¡

[English](#english) | [ä¸­æ–‡](#chinese)

> **Note**: This README is entirely generated by AI and is for reference only.  
> **æ³¨æ„**ï¼šæœ¬ README å®Œå…¨ç”± AI ç”Ÿæˆï¼Œä»…ä¾›å‚è€ƒã€‚

### Recent Updates
- Runtime hotword settings can be toggled without restarting: `/process/settings/hotword` persists to `config/hotword_settings.json`, and Telegram ä¸­æ–°å¢ `/hotword_status` / `/hotword_toggle` æ”¯æŒåœ¨çº¿å¼€å…³ã€‚
- Telegram æœºå™¨äººå¢åŠ æ ‡ç­¾/çƒ­è¯äº¤äº’æç¤ºã€`/skip` å¿«æ·å‘½ä»¤ï¼Œå¹¶åœ¨åå°è½®è¯¢ `/process/status/<id>` è‡ªåŠ¨æ¨é€å­—å¹•æ–‡ä»¶ã€‚
- `scripts/build-and-push.sh` æ–°å¢ `bgutil-provider` é•œåƒæ„å»ºï¼›é»˜è®¤ Dockerfile ä»…ä¿ç•™å¿…éœ€ä¾èµ–ï¼ŒX11/VNC ç›¸å…³ç»„ä»¶ä»¥æ³¨é‡Šå½¢å¼ä¿ç•™ï¼Œæ„å»ºé•œåƒæ›´è½»é‡ã€‚
- åç«¯æä¾› `/process/status/<id>?include_content=1` ä»¥åŠ `/process/status/<id>/subtitle`ï¼Œæ–¹ä¾¿å¤–éƒ¨æŸ¥è¯¢ä»»åŠ¡è¿›åº¦ä¸å­—å¹•åŸæ–‡ã€‚
- YouTube live URLs are normalized to `watch?v=` with fallback to the live URL if needed.
- Download concurrency + 403 backoff retries are configurable, and transcription concurrency can be capped.
- Optional Readwise URL-only clipping when Chinese subtitles are available (`READWISE_URL_ONLY_WHEN_ZH_SUBS`).

<a name="english"></a>
## ğŸŒ English

### Overview
A comprehensive subtitle processing service that automatically downloads, transcribes, and manages video subtitles from various platforms. Features a Telegram bot interface and a web management portal.

### ğŸš€ Features
- **Multi-Platform Support**
  - YouTube video subtitle extraction
  - YouTube live links (`/live/<id>`) normalized with fallback
  - Member-only/age-restricted YouTube videos with your own cookies/profile
  - Bilibili video subtitle processing
  - Automatic fallback to audio transcription
  
- **Subtitle Processing**
  - Direct subtitle download from platforms
  - Audio transcription using FunASR
  - Support for multiple subtitle formats (SRT, VTT, JSON3)
  
- **User Interfaces**
  - Telegram Bot for easy access
  - Web interface for subtitle management
  - Real-time subtitle viewing and searching
  
- **File Management**
  - Automatic file organization
  - Metadata tracking
  - Timeline visualization
- **Deployment Flexibility**
  - Telegram webhook via a single entrypoint, worker nodes run processing-only stack
  - Build script with persistent cache/export to push and reload images quickly
  - `.env` overrides for image tags per environment

- **Readwise Integration**
  - Automatic article creation from subtitles
  - Rich text formatting support
  - Seamless sync with Readwise Reader
  - Smart content segmentation for long videos
  - Optional URL-only clipping when Chinese subtitles are available
- **Hotword Management**
  - Runtime toggle API (`/process/settings/hotword`) with persisted JSON state
  - Telegram commands `/hotword_status`ã€`/hotword_toggle` æŸ¥çœ‹/åˆ‡æ¢è‡ªåŠ¨çƒ­è¯
  - Conversation flow supports manual hotword inputæˆ– `/skip` è·³è¿‡
  - `config/hotwords-example/` ä¸ `config/hotword_settings.json.example` æä¾›å¯å®šåˆ¶æ¨¡æ¿

### ğŸ› ï¸ Technical Stack
- Backend: Python Flask
- Frontend: HTML/CSS/JavaScript
- Transcription: FunASR
- Container: Docker
- Storage: JSON-based file system

### ğŸ“¦ Installation
1. Clone the repository
2. Install Docker and Docker Compose
3. Configure environment variables:
   ```bash
   TELEGRAM_TOKEN=your_telegram_bot_token
   READWISE_TOKEN=your_readwise_token
   ```
4. Configure hotword settings (optional but recommended):
   ```bash
   cp config/hotword_settings.json.example config/hotword_settings.json
   # Edit config/hotword_settings.json to set defaults for auto_hotwords/post_process/mode/max_count
   # For advanced generation rules, copy config/hotwords-example/hotwords_config-example.yml to config/hotwords/hotwords_config.yml
   ```
5. Configure YouTube cookies (required for member-only/age-restricted videos):
   - **Option A (Firefox profile)**: copy your Firefox profile directory into `firefox_profile/` or set `cookies` in `config/config.yml`.
     - macOS: `~/Library/Application Support/Firefox/Profiles/<profile>`
     - Windows: `C:\Users\<USER_NAME>\AppData\Roaming\Mozilla\Firefox\Profiles\`
     - Linux: `~/.mozilla/firefox/<profile>`
   - **Option B (cookie file)**: export cookies to Netscape format and set `YTDLP_COOKIE_FILE=/path/to/cookies.txt`.
   - Ensure the profile contains `cookies.sqlite` and you are logged into YouTube.
6. Start the services:
   ```bash
   docker-compose up --build
   ```

### âš™ï¸ Optional Configuration
- `READWISE_URL_ONLY_WHEN_ZH_SUBS=true` to clip the original URL to Readwise when Chinese subtitles exist (skips subtitle download/transcription).
- `DOWNLOAD_CONCURRENCY` (0/1 means serial), plus `DOWNLOAD_MAX_RETRIES`, `DOWNLOAD_RETRY_BASE_DELAY`, `DOWNLOAD_RETRY_BACKOFF`, `DOWNLOAD_RETRY_MAX_DELAY` for 403 backoff.
- `TRANSCRIBE_CONCURRENCY` to cap concurrent transcriptions (0/1 means serial, empty means unlimited).
- `YTDLP_COOKIE_FILE` to provide a Netscape-format cookie file instead of a Firefox profile.
All defaults are listed in `.env.example`.

### ğŸ§© Distribute Docker Images to Multiple Hosts
1. Generate and push images from a build machine:
   ```bash
   cp images.env.example images.env
   # Edit images.env to set IMAGE_PREFIX (e.g. docker.io/myteam) and IMAGE_TAG
   # Optionally set EXTRA_TAGS=latest if you also want a latest tag
   set -a; source images.env; set +a
   ./scripts/build-and-push.sh
   ```
   The script tags/pushes:
   - `${IMAGE_PREFIX}/subtitle-processor:${IMAGE_TAG}`
   - `${IMAGE_PREFIX}/transcribe-audio:${IMAGE_TAG}`
   - `${IMAGE_PREFIX}/telegram-bot:${IMAGE_TAG}`
2. On each target host, create (or edit) `.env` with the new image references:
   ```env
   SUBTITLE_PROCESSOR_IMAGE=${IMAGE_PREFIX}/subtitle-processor:${IMAGE_TAG}
   TRANSCRIBE_AUDIO_IMAGE=${IMAGE_PREFIX}/transcribe-audio:${IMAGE_TAG}
   TELEGRAM_BOT_IMAGE=${IMAGE_PREFIX}/telegram-bot:${IMAGE_TAG}
   ```
3. Pull and start containers without rebuilding locally:
   ```bash
   docker compose pull
   docker compose up -d --no-build
   ```

### ğŸ¤– Telegram Deployment (Single Entry)
- Choose **one** machine (for example the NAS that fronts Caddy) to run the `telegram-bot` service with webhook enabled. Configure `telegram.webhook.public_url` (or `TELEGRAM_WEBHOOK_*` envs) **only** on this host so it remains the sole webhook endpoint. Start the stack with the Telegram profile:
  ```bash
  docker compose --profile telegram up -d
  ```
- On additional worker machines, keep running `subtitle-processor` and `transcribe-audio` but skip the bot service. You can do this by launching only the needed services:
  The default profile starts only processing services, so a plain `docker compose up -d` works. You can also explicitly target services:
  ```bash
  docker compose up -d subtitle-processor transcribe-audio
  ```
  or comment out the `telegram-bot` section in the workerâ€™s compose file. Setting `TELEGRAM_BOT_ENABLED=false` in the workerâ€™s environment keeps the container in health-check mode if you ever need the image present.
- The worker nodes will still take part in transcription because the primary bot forwards requests to them via the shared FunASR server list in `config/config.yml`.
- This â€œsingle entry + multiple workersâ€ layout prevents Telegram from redelivering the same webhook to different instances, eliminating duplicate replies in chats.
- Each webhook is acknowledged immediately and the heavy lifting runs in background tasks, so Telegram never retries the same update due to timeouts.
- For exceptionally long jobs you can raise the HTTP timeouts via `SUBTITLE_CONNECT_TIMEOUT` (default 120 seconds) and `SUBTITLE_READ_TIMEOUT` (default 1800 seconds). Defaults are defined in `docker-compose.yml` and may be overridden with environment variables if needed.

### ğŸ”§ Usage
1. **Telegram Bot**
   - Send video URL to the bot
   - Receive processed subtitle file
   
2. **Web Interface**
   - Access `http://localhost:5000`
   - Upload video files or URLs
   - View and search subtitles

3. **Readwise Integration**
   - Automatically creates articles in Readwise Reader
   - Preserves video metadata (title, URL, publish date)
   - Intelligently splits long content into readable segments
   - Access transcripts alongside your other reading materials

### ğŸ“ License
MIT License

### ğŸ™ Acknowledgments
Special thanks to:
- [Windsurf](https://github.com/codeium/windsurf) - The world's first agentic IDE that made this project development possible
- Claude 3.5 Sonnet - For providing comprehensive AI assistance throughout the development process

---

<a name="chinese"></a>
## ğŸŒ ä¸­æ–‡

### æ¦‚è¿°
ä¸€ä¸ªç»¼åˆæ€§çš„å­—å¹•å¤„ç†æœåŠ¡ï¼Œå¯ä»¥è‡ªåŠ¨ä¸‹è½½ã€è½¬å½•å’Œç®¡ç†æ¥è‡ªå„ç§å¹³å°çš„è§†é¢‘å­—å¹•ã€‚æä¾› Telegram æœºå™¨äººæ¥å£å’Œç½‘é¡µç®¡ç†é—¨æˆ·ã€‚

### æœ€è¿‘æ›´æ–°
- `scripts/build-and-push.sh` æ”¯æŒæŒç»­åŒ– BuildKit ç¼“å­˜ï¼Œå¤šæ¶æ„æ¨é€åä¼šè‡ªåŠ¨åœ¨æœ¬æœºåŠ è½½å½“å‰æ¶æ„é•œåƒï¼Œæ— éœ€å†æ‰§è¡Œ `docker pull`ã€‚
- Telegram Webhook ç«‹å³è¿”å›ï¼Œå¹¶å°†å­—å¹•å¤„ç†æ”¾åˆ°åå°æ‰§è¡Œï¼Œé¿å…å› ä¸ºé‡è¯•å¯¼è‡´çš„é‡å¤å›å¤ã€‚
- Telegram éƒ¨ç½²æ”¹ä¸ºâ€œå•å…¥å£ + å¤šå·¥ä½œèŠ‚ç‚¹â€æ¨¡å¼ï¼Œé¿å…åŒä¸€æ¡æ¶ˆæ¯è¢«å¤šä¸ª bot å®ä¾‹é‡å¤å›å¤ã€‚
- æ–‡æ¡£è¡¥å……é•œåƒåˆ†å‘ä¸ `.env` è¦†ç›–æŒ‡å¼•ï¼Œä¾¿äºå¤šæœºå™¨å¿«é€Ÿä¸Šçº¿ã€‚
- æ”¯æŒå°† YouTube `live/<id>` é“¾æ¥è‡ªåŠ¨è½¬æ¢ä¸º `watch?v=`ï¼Œå¿…è¦æ—¶å›é€€ç›´è¿ç›´æ’­ URLã€‚
- ä¸‹è½½å¹¶å‘ + 403 é€€é¿é‡è¯•å¯é…ç½®ï¼Œè½¬å½•å¹¶å‘å¯é€‰é™åˆ¶ã€‚
- å¯é€‰ï¼šæ£€æµ‹åˆ°ä¸­æ–‡å­—å¹•æ—¶ç›´æ¥å‰ªè— URL åˆ° Readwiseï¼ˆ`READWISE_URL_ONLY_WHEN_ZH_SUBS`ï¼‰ã€‚

### ğŸš€ åŠŸèƒ½ç‰¹ç‚¹
- **å¤šå¹³å°æ”¯æŒ**
  - YouTube è§†é¢‘å­—å¹•æå–
  - YouTube `live/<id>` é“¾æ¥è‡ªåŠ¨è§„èŒƒåŒ–å¹¶æä¾›å›é€€ç­–ç•¥
  - æ”¯æŒä¼šå‘˜/å—é™ YouTube è§†é¢‘ï¼ˆéœ€ä½¿ç”¨è‡ªå·±çš„ cookies/profileï¼‰
  - Bilibili è§†é¢‘å­—å¹•å¤„ç†
  - è‡ªåŠ¨éŸ³é¢‘è½¬å½•å¤‡é€‰æ–¹æ¡ˆ
  
- **å­—å¹•å¤„ç†**
  - ç›´æ¥ä»å¹³å°ä¸‹è½½å­—å¹•
  - ä½¿ç”¨ FunASR è¿›è¡ŒéŸ³é¢‘è½¬å½•
  - æ”¯æŒå¤šç§å­—å¹•æ ¼å¼ï¼ˆSRTã€VTTã€JSON3ï¼‰
  
- **ç”¨æˆ·ç•Œé¢**
  - Telegram æœºå™¨äººä¾¿æ·è®¿é—®
  - ç½‘é¡µå­—å¹•ç®¡ç†ç•Œé¢
  - å®æ—¶å­—å¹•æŸ¥çœ‹å’Œæœç´¢
  
- **æ–‡ä»¶ç®¡ç†**
  - è‡ªåŠ¨æ–‡ä»¶ç»„ç»‡
  - å…ƒæ•°æ®è·Ÿè¸ª
  - æ—¶é—´è½´å¯è§†åŒ–
- **éƒ¨ç½²çµæ´»æ€§**
  - Telegram ä»…åœ¨å•ä¸€å…¥å£å¯ç”¨ webhookï¼Œå…¶ä»–èŠ‚ç‚¹ä¸“æ³¨å¤„ç†ä»»åŠ¡
  - æ„å»ºè„šæœ¬å¸¦æŒä¹…ç¼“å­˜ï¼Œæé«˜æ¨é€/æœ¬åœ°åŠ è½½æ•ˆç‡
  - é€šè¿‡ `.env` è¦†ç›–é•œåƒæ ‡ç­¾ï¼Œé€‚é…ä¸åŒç¯å¢ƒ

- **Readwise é›†æˆ**
  - è‡ªåŠ¨ä»å­—å¹•åˆ›å»ºæ–‡ç« 
  - æ”¯æŒå¯Œæ–‡æœ¬æ ¼å¼
  - ä¸ Readwise Reader æ— ç¼åŒæ­¥
  - æ™ºèƒ½åˆ†æ®µå¤„ç†é•¿è§†é¢‘å†…å®¹
  - å¯é€‰ï¼šæ£€æµ‹åˆ°ä¸­æ–‡å­—å¹•æ—¶ç›´æ¥å‰ªè—åŸå§‹ URL
- **çƒ­è¯ç®¡ç†**
  - è¿è¡ŒæœŸçƒ­è¯å¼€å…³å¯é€šè¿‡ `/process/settings/hotword` ä¸ Telegram æŒ‡ä»¤åœ¨çº¿è°ƒæ•´
  - æ ‡ç­¾/çƒ­è¯ä¼šè¯æ”¯æŒæ‰‹åŠ¨è¾“å…¥æˆ– `/skip` å¿«æ·è·³è¿‡
  - `config/hotword_settings.json.example`ã€`config/hotwords-example/` æä¾›è‡ªå®šä¹‰æ¨¡æ¿ï¼Œè½»æ¾æ‰©å±•è‡ªåŠ¨çƒ­è¯ç­–ç•¥

### ğŸ› ï¸ æŠ€æœ¯æ ˆ
- åç«¯ï¼šPython Flask
- å‰ç«¯ï¼šHTML/CSS/JavaScript
- è½¬å½•ï¼šFunASR
- å®¹å™¨ï¼šDocker
- å­˜å‚¨ï¼šåŸºäº JSON çš„æ–‡ä»¶ç³»ç»Ÿ

### ğŸ“¦ å®‰è£…æ­¥éª¤
1. å…‹éš†ä»“åº“
2. å®‰è£… Docker å’Œ Docker Compose
3. é…ç½®ç¯å¢ƒå˜é‡ï¼š
   ```bash
   TELEGRAM_TOKEN=ä½ çš„_telegram_æœºå™¨äºº_token
   READWISE_TOKEN=ä½ çš„_readwise_token
   ```
4. å¯é€‰ï¼šé…ç½®çƒ­è¯é»˜è®¤ç­–ç•¥
   ```bash
   cp config/hotword_settings.json.example config/hotword_settings.json
   # ç¼–è¾‘çƒ­è¯å¼€å…³/æ¨¡å¼/æœ€å¤§æ•°é‡ç­‰é»˜è®¤å€¼
   # å¦‚éœ€è‡ªå®šä¹‰ç”Ÿæˆè§„åˆ™ï¼Œå¯å¤åˆ¶ config/hotwords-example/hotwords_config-example.yml è‡³ config/hotwords/hotwords_config.yml
   ```
5. é…ç½® YouTube cookiesï¼ˆä¼šå‘˜/å—é™è§†é¢‘ä¸‹è½½éœ€è¦è‡ªå·±çš„ cookiesï¼‰ï¼š
   - **æ–¹æ¡ˆ Aï¼ˆFirefox profileï¼‰**ï¼šå°† Firefox é…ç½®æ–‡ä»¶ç›®å½•å¤åˆ¶åˆ° `firefox_profile/`ï¼Œæˆ–åœ¨ `config/config.yml` ä¸­é…ç½® `cookies` è·¯å¾„ã€‚
     - macOSï¼š`~/Library/Application Support/Firefox/Profiles/<profile>`
     - Windowsï¼š`C:\Users\<USER_NAME>\AppData\Roaming\Mozilla\Firefox\Profiles\`
     - Linuxï¼š`~/.mozilla/firefox/<profile>`
   - **æ–¹æ¡ˆ Bï¼ˆcookie æ–‡ä»¶ï¼‰**ï¼šå¯¼å‡º Netscape æ ¼å¼ cookiesï¼Œå¹¶è®¾ç½® `YTDLP_COOKIE_FILE=/path/to/cookies.txt`ã€‚
   - ç¡®ä¿ profile å†…å« `cookies.sqlite`ï¼Œä¸”å·²ç™»å½• YouTubeã€‚
6. å¯åŠ¨æœåŠ¡ï¼š
   ```bash
   docker-compose up --build
   ```

### âš™ï¸ å¯é€‰é…ç½®
- `READWISE_URL_ONLY_WHEN_ZH_SUBS=true`ï¼šæ£€æµ‹åˆ°ä¸­æ–‡å­—å¹•æ—¶ç›´æ¥å‰ªè—åŸå§‹ URL åˆ° Readwiseï¼ˆè·³è¿‡å­—å¹•ä¸‹è½½/è½¬å½•ï¼‰ã€‚
- `DOWNLOAD_CONCURRENCY`ï¼ˆ0/1 è§†ä¸ºä¸²è¡Œï¼‰ä»¥åŠ `DOWNLOAD_MAX_RETRIES`ã€`DOWNLOAD_RETRY_BASE_DELAY`ã€`DOWNLOAD_RETRY_BACKOFF`ã€`DOWNLOAD_RETRY_MAX_DELAY` ç”¨äº 403 é€€é¿é‡è¯•ã€‚
- `TRANSCRIBE_CONCURRENCY`ï¼šé™åˆ¶è½¬å½•å¹¶å‘ï¼ˆ0/1 ä¸²è¡Œï¼Œç•™ç©ºä¸ºä¸é™ï¼‰ã€‚
- `YTDLP_COOKIE_FILE`ï¼šä½¿ç”¨ Netscape æ ¼å¼ cookies æ–‡ä»¶æ›¿ä»£ Firefox profileã€‚
é»˜è®¤å€¼å¯å‚è€ƒ `.env.example`ã€‚

### ğŸ¤– Telegram å•å…¥å£éƒ¨ç½²
- ä»…åœ¨ä¸€å°æœºå™¨ï¼ˆä¾‹å¦‚æ‰¿è½½ Caddy çš„ NASï¼‰è¿è¡Œ `telegram-bot` å¹¶å¯ç”¨ webhookï¼Œåœ¨è¯¥èŠ‚ç‚¹çš„é…ç½®æ–‡ä»¶æˆ–ç¯å¢ƒå˜é‡ä¸­å¡«å†™ `telegram.webhook.public_url`ï¼Œå¹¶ä½¿ç”¨å¸¦æœ‰ `telegram` profile çš„å¯åŠ¨æ–¹å¼ï¼š
  ```bash
  docker compose --profile telegram up -d
  ```
- å…¶ä»–å·¥ä½œèŠ‚ç‚¹åªè¿è¡Œ `subtitle-processor` ä¸ `transcribe-audio`ï¼š
  é»˜è®¤ profile åªä¼šå¯åŠ¨å¤„ç†æœåŠ¡ï¼Œå› æ­¤ç›´æ¥æ‰§è¡Œ `docker compose up -d` å³å¯ï¼›ä¹Ÿå¯ä»¥æ˜¾å¼æŒ‡å®šæœåŠ¡ï¼š
  ```bash
  docker compose up -d subtitle-processor transcribe-audio
  ```
-  æˆ–åœ¨å®ƒä»¬çš„ `docker-compose.yml` ä¸­æ³¨é‡Šæ‰ `telegram-bot` æœåŠ¡ï¼›è‹¥éœ€è¦ä¿ç•™å®¹å™¨ï¼Œå¯åœ¨ç¯å¢ƒå˜é‡ä¸­è®¾ç½® `TELEGRAM_BOT_ENABLED=false`ï¼Œè®©å…¶ä»…æä¾›å¥åº·æ£€æŸ¥è€Œä¸å¤„ç†æ¶ˆæ¯ã€‚
- æ‰€æœ‰èŠ‚ç‚¹å…±äº« `config/config.yml` å†…çš„è½¬å½•æœåŠ¡å™¨åˆ—è¡¨ï¼Œä¸»èŠ‚ç‚¹æ”¶åˆ°è¯·æ±‚åä»ä¼šå§”æ´¾åç«¯ FunASR æœåŠ¡æ‰§è¡Œè½¬å½•ã€‚
- è¯¥æ‹“æ‰‘é˜»æ­¢ Telegram å°†åŒä¸€æ¡ webhook æŠ•é€’ç»™å¤šå°å®ä¾‹ï¼Œä»æ ¹æºä¸Šæ¶ˆé™¤é‡å¤å›å¤ã€‚
- æ¯æ¡ Webhook è¯·æ±‚éƒ½ä¼šç«‹å³å“åº”ï¼Œå­—å¹•ç”Ÿæˆç§»è‡³åå°ä»»åŠ¡æ‰§è¡Œï¼ŒTelegram ä¸ä¼šå› è¶…æ—¶è€Œé‡è¯•ã€‚
- å¦‚æœå¤„ç†è¶…é•¿è§†é¢‘ï¼Œå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡ `SUBTITLE_CONNECT_TIMEOUT`ï¼ˆé»˜è®¤ 120 ç§’ï¼‰å’Œ `SUBTITLE_READ_TIMEOUT`ï¼ˆé»˜è®¤ 1800 ç§’ï¼‰è°ƒé«˜å­—å¹•è¯·æ±‚çš„è¿æ¥/è¯»å–è¶…æ—¶ã€‚é»˜è®¤å€¼å†™åœ¨ `docker-compose.yml`ï¼Œéœ€è¦æ—¶å¯åœ¨ç¯å¢ƒå˜é‡ä¸­è¦†ç›–ã€‚

### ğŸ§© å¤šæœºå¿«é€Ÿåˆ†å‘ Docker é•œåƒ
1. åœ¨æ„å»ºæœºå™¨ä¸Šç”Ÿæˆå¹¶æ¨é€é•œåƒï¼š
   ```bash
   cp images.env.example images.env
   # ç¼–è¾‘ images.envï¼Œè®¾ç½® IMAGE_PREFIXï¼ˆå¦‚ docker.io/myteamï¼‰å’Œ IMAGE_TAG
   # å¦‚éœ€åŒæ—¶æ¨é€ latestï¼Œå¯è®¾ç½® EXTRA_TAGS=latest
   set -a; source images.env; set +a
   ./scripts/build-and-push.sh
   ```
   è„šæœ¬ä¼šæ¨é€ä»¥ä¸‹é•œåƒï¼š
   - `${IMAGE_PREFIX}/subtitle-processor:${IMAGE_TAG}`
   - `${IMAGE_PREFIX}/transcribe-audio:${IMAGE_TAG}`
   - `${IMAGE_PREFIX}/telegram-bot:${IMAGE_TAG}`
2. åœ¨æ¯å°ç›®æ ‡æœºå™¨æ ¹ç›®å½•åˆ›å»ºï¼ˆæˆ–ä¿®æ”¹ï¼‰`.env` æ–‡ä»¶ï¼Œå¡«å…¥æœ€æ–°é•œåƒï¼š
   ```env
   SUBTITLE_PROCESSOR_IMAGE=${IMAGE_PREFIX}/subtitle-processor:${IMAGE_TAG}
   TRANSCRIBE_AUDIO_IMAGE=${IMAGE_PREFIX}/transcribe-audio:${IMAGE_TAG}
   TELEGRAM_BOT_IMAGE=${IMAGE_PREFIX}/telegram-bot:${IMAGE_TAG}
   ```
3. æ‹‰å–å¹¶å¯åŠ¨å®¹å™¨ï¼Œé¿å…æœ¬åœ°é‡æ–°æ„å»ºï¼š
   ```bash
   docker compose pull
   docker compose up -d --no-build
   ```

### ğŸ”§ ä½¿ç”¨æ–¹æ³•
1. **Telegram æœºå™¨äºº**
   - å‘æœºå™¨äººå‘é€è§†é¢‘ URL
   - æ¥æ”¶å¤„ç†å¥½çš„å­—å¹•æ–‡ä»¶
   
2. **ç½‘é¡µç•Œé¢**
   - è®¿é—® `http://localhost:5000`
   - ä¸Šä¼ è§†é¢‘æ–‡ä»¶æˆ– URL
   - æŸ¥çœ‹å’Œæœç´¢å­—å¹•

3. **Readwise é›†æˆ**
   - è‡ªåŠ¨åœ¨ Readwise Reader ä¸­åˆ›å»ºæ–‡ç« 
   - ä¿ç•™è§†é¢‘å…ƒæ•°æ®ï¼ˆæ ‡é¢˜ã€URLã€å‘å¸ƒæ—¥æœŸï¼‰
   - æ™ºèƒ½åˆ†å‰²é•¿å†…å®¹ä¸ºæ˜“è¯»ç‰‡æ®µ
   - åœ¨å…¶ä»–é˜…è¯»ææ–™æ—è¾¹è®¿é—®è½¬å½•æ–‡æœ¬

### ğŸ“ è®¸å¯è¯
MIT è®¸å¯è¯

### ğŸ™ è‡´è°¢
ç‰¹åˆ«æ„Ÿè°¢ï¼š
- [Windsurf](https://github.com/codeium/windsurf) - ä¸–ç•Œé¦–ä¸ªæ™ºèƒ½ä»£ç† IDEï¼Œä½¿æœ¬é¡¹ç›®çš„å¼€å‘æˆä¸ºå¯èƒ½
- Claude 3.5 Sonnet - åœ¨æ•´ä¸ªå¼€å‘è¿‡ç¨‹ä¸­æä¾›å…¨é¢çš„ AI è¾…åŠ©
